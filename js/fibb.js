/**
 * Функция fibb(n) возвращает n-ое число из последовательности Фибоначчи
 * для любого целого неотрицательного числа n <= 1000
 * 
 * Последовательность Фибоначчи:
 * F(0) = 0
 * F(1) = 1
 * F(n) = F(n-1) + F(n-2) для n > 1
 * 
 * Использует итеративный алгоритм для эффективного вычисления
 * 
 * @param {number} n - целое неотрицательное число (n <= 1000)
 * @returns {number} - n-ое число Фибоначчи
 * @throws {Error} - если n не является целым неотрицательным числом или n > 1000
 */
function fibb(n) {
    // Проверка, что n является целым неотрицательным числом
    if (!Number.isInteger(n) || n < 0) {
        throw new Error('Параметр n должен быть целым неотрицательным числом');
    }
    
    // Проверка, что n <= 1000
    if (n > 1000) {
        throw new Error('Параметр n не должен превышать 1000');
    }
    
    // Базовые случаи
    if (n === 0) {
        return 0;
    }
    
    if (n === 1) {
        return 1;
    }
    
    // Итеративный алгоритм для вычисления чисел Фибоначчи
    // Начинаем с F(0) = 0 и F(1) = 1
    let prev = 0;      // F(n-2)
    let current = 1;   // F(n-1)
    
    // Вычисляем числа от F(2) до F(n)
    for (let i = 2; i <= n; i++) {
        // Вычисляем следующее число: F(i) = F(i-1) + F(i-2)
        let next = prev + current;
        
        // Сдвигаем значения для следующей итерации
        prev = current;
        current = next;
    }
    
    // current содержит F(n)
    return current;
}

